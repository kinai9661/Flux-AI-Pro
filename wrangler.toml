# ============================================
# Cloudflare Workers é…ç½®æ–‡ä»¶
# é …ç›®: Flux AI Pro - NanoBanana Edition
# ç‰ˆæœ¬: 11.16.0
# æ›´æ–°: 2026-02-19
# ============================================

name = "flux-ai-pro"
main = "worker.js"
compatibility_date = "2024-12-01"

# ============================================
# KV å­˜å„²ç¶å®š (NanoBanana é™æµå¿…éœ€)
# âš ï¸ è«‹åŸ·è¡Œ: npx wrangler kv:namespace create "FLUX_KV"
# ç„¶å¾Œå°‡ç”Ÿæˆçš„ id å¡«å…¥ä¸‹æ–¹
#
# KV å­˜å„²ç”¨é€”:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ã€Nano Pro é™æµå’Œé…é¡ç®¡ç†ã€‘
# - nano_limit:{ip} (IP é™æµè¨ˆæ•¸ï¼Œ60s TTL)
# - rate_limit:{ip} (API é€Ÿç‡é™åˆ¶è¨ˆæ•¸)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ã€çµ±è¨ˆèˆ‡ç›£æ§ã€‘
# - online:{ip} (åœ¨ç·šç”¨æˆ¶è¨ˆæ•¸ï¼Œ60s TTL)
# - stats:daily:{date} (æ¯æ—¥è«‹æ±‚çµ±è¨ˆ)
# - stats:total (ç¸½è«‹æ±‚è¨ˆæ•¸)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ============================================
[[kv_namespaces]]
binding = "FLUX_KV"
id = "65c2232e78044e749adb797599cb6ac8"

# ============================================
# Workers AI ç¶å®šï¼ˆç”¨æ–¼ä¸­æ–‡è‡ªå‹•ç¿»è­¯ï¼‰
# ============================================
[ai]
binding = "AI"

# ============================================
# ç’°å¢ƒè®Šé‡ï¼ˆéæ•æ„Ÿï¼‰
# ============================================
[vars]
WORKER_VERSION = "11.16.0"
DEFAULT_MODEL = "flux-schnell"
MAX_WIDTH = 4096
MAX_HEIGHT = 4096
MAX_TIMEOUT = 300000
ENVIRONMENT = "production"

# ============================================
# Secrets é€šé wrangler secret å‘½ä»¤è¨­ç½®
# ğŸ” æ¨è–¦è¨­ç½®:
# ============================================
# ã€API ä¾›æ‡‰å•† Keysã€‘
# 1. POLLINATIONS_API_KEY (Pollinations åœ–åƒç”Ÿæˆ)
# 2. INFIP_API_KEY (Ghostbot/Infip)
# 3. AQUA_API_KEY (Aqua Server)
# 4. KINAI_API_KEY (Kinai API)
# 5. AIRFORCE_API_KEY (Airforce API)
# 6. NONPON_API_KEY (Nonpon API)
#
# ============================================
# è¨­ç½®å‘½ä»¤ç¯„ä¾‹ï¼š
# npx wrangler secret put POLLINATIONS_API_KEY
# npx wrangler secret put INFIP_API_KEY
# npx wrangler secret put AQUA_API_KEY
# npx wrangler secret put KINAI_API_KEY
# npx wrangler secret put AIRFORCE_API_KEY
# npx wrangler secret put NONPON_API_KEY
#
# æŸ¥çœ‹æ‰€æœ‰ secrets:
# npx wrangler secret list
#
# åˆªé™¤ secret:
# npx wrangler secret delete SECRET_NAME
