# ============================================
# Cloudflare Workers é…ç½®æ–‡ä»¶
# é …ç›®: Flux AI Pro - NanoBanana Edition
# ç‰ˆæœ¬: 11.17.0 (freeimage.host API éŸ¿æ‡‰çµæ§‹ä¿®å¾©)
# æ›´æ–°: 2026-02-04
# ============================================

name = "flux-ai-pro"
main = "worker.js"
compatibility_date = "2024-12-01"

# ============================================
# KV å­˜å„²ç¶å®š (NanoBanana é™æµå¿…éœ€)
# âš ï¸ è«‹åŸ·è¡Œ: npx wrangler kv:namespace create "FLUX_KV"
# ç„¶å¾Œå°‡ç”Ÿæˆçš„ id å¡«å…¥ä¸‹æ–¹
# ============================================
[[kv_namespaces]]
binding = "FLUX_KV"
id = "65c2232e78044e749adb797599cb6ac8"

# ============================================
# Workers AI ç¶å®šï¼ˆç”¨æ–¼ä¸­æ–‡è‡ªå‹•ç¿»è­¯ï¼‰
# ============================================
[ai]
binding = "AI"

# ============================================
# ç’°å¢ƒè®Šé‡ï¼ˆéæ•æ„Ÿï¼‰
# ============================================
[vars]
WORKER_VERSION = "11.17.0"
DEFAULT_MODEL = "flux-schnell"
MAX_WIDTH = 2048
MAX_HEIGHT = 2048
MAX_TIMEOUT = 120000
ENVIRONMENT = "production"

# ============================================
# Secrets é€šé wrangler secret å‘½ä»¤è¨­ç½®
# ğŸ” æ¨è–¦è¨­ç½®:
# 1. POLLINATIONS_API_KEY (Pollinations)
# 2. INFIP_API_KEY (Ghostbot/Infip)
# 3. AQUA_API_KEY (Aqua Server)
# 4. FREEIMAGE_API_KEY (Freeimage.host åœ–ç‰‡å­˜å„² - æ­·å²è¨˜éŒ„å„ªåŒ–)
# ============================================
# è¨­ç½®å‘½ä»¤ç¯„ä¾‹ï¼š
# npx wrangler secret put POLLINATIONS_API_KEY
# npx wrangler secret put INFIP_API_KEY
# npx wrangler secret put AQUA_API_KEY
# npx wrangler secret put FREEIMAGE_API_KEY
#
# ğŸ“ Freeimage.host åœ–ç‰‡å­˜å„²:
# - é è¨­ API Key: 6d207e02198a847aa98d0a2a901485a5 (ç„¡éœ€è¨»å†Š)
# - å¦‚éœ€è‡ªè¨‚ API Keyï¼Œè¨ªå• https://freeimage.host/api
# - æ”¯æ´ç¸®åœ–ã€ä¸­ç­‰å°ºå¯¸ã€å®Œæ•´å°ºå¯¸ä¸‰ç¨®æ ¼å¼
# - ç„¡éœ€è¨»å†Šå³å¯ä½¿ç”¨é è¨­ API Key
# - æœ€å¤§æ–‡ä»¶å¤§å°: 64MB
# - æ”¯æ´æ ¼å¼: JPEG, PNG, BMP, GIF, WebP
#
# ğŸ” é…ç½®æª¢æ¸¬ç«¯é»:
# - GET /api/config/freeimage - è‡ªå‹•æª¢æ¸¬ freeimage.host æœ€æ–°é…ç½®
# - è¿”å›: max_filesize, image_types, supported_mime_types
